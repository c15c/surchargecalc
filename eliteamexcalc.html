<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amex Surcharge Calculator</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 700 700'%3E%3Cpath fill='%23FFFFFF' d='M599,601 L350.5,601 L99,601 L99,348.5 L99,101 L347.1,101 L599,101 L599,351 L599,601'/%3E%3Cpath fill='%23006FCF' d='M599,601v-79.2h-60.3l-31.1-34.3l-31.2,34.3H277.5v-160h-64.2L293,181.5h76.8l27.4,61.7v-61.7h95l16.5,46.5l16.6-46.5H599V101H99v500H599L599,601z M548.8,501.7H599l-66.4-70.4l66.4-69.6h-49.4l-41,44.8l-40.6-44.8h-50.2l66,70l-66,70h48.8l41.2-45.2L548.8,501.7L548.8,501.7z M560.6,431.4l38.4,40.9v-81.4L560.6,431.4L560.6,431.4z M336.9,469.4v-21.8h79V416h-79v-21.8h81v-32.4H298.8v139.9h119.1v-32.4H336.9L336.9,469.4z M561.2,341.5H599V201.6h-58.8l-31.4,87.2l-31.2-87.2h-59.8v139.9h37.8v-97.9l36,97.9h33.6l36-98.2V341.5L561.2,341.5z M374.9,341.5h43l-61.8-139.9H307l-61.8,139.9h42l11.6-28h64.4L374.9,341.5L374.9,341.5z M349.9,282.1h-38l19-45.8L349.9,282.1L349.9,282.1z'/%3E%3C/svg%3E" />

    <style>
        :root {
            --background: #f9fafb;
            --card-bg: #fff;
            --text-primary: #1f2937;
            --text-secondary: #4b5563;
            --border-color: #e5e7eb;
            --input-border: #d1d5db;
            --input-focus: #60a5fa;
            --section-bg: #f8fafc;
            --classic-plus-bg: #f0f9ff;
            --classic-plus-border: #bae6fd;
            --classic-reward-bg: #f5f3ff;
            --classic-reward-border: #ddd6fe;
            --points-hack-bg: #ecfdf5;
            --points-hack-border: #a7f3d0;
            --positive: #059669;
            --negative: #dc2626;
            --shadow-color: rgba(0, 0, 0, 0.1);
        }

        [data-theme="dark"] {
            --background: #1a1a1a;
            --card-bg: #2d2d2d;
            --text-primary: #e5e7eb;
            --text-secondary: #9ca3af;
            --border-color: #404040;
            --input-border: #4b5563;
            --input-focus: #3b82f6;
            --section-bg: #333333;
            --classic-plus-bg: #1e3a8a;
            --classic-plus-border: #1e40af;
            --classic-reward-bg: #3b0764;
            --classic-reward-border: #4c1d95;
            --points-hack-bg: #064e3b;
            --points-hack-border: #065f46;
            --positive: #34d399;
            --negative: #ef4444;
            --shadow-color: rgba(0, 0, 0, 0.3);
        }

        body {
            font-family: Inter, system-ui, -apple-system, sans-serif;
            background-color: var(--background);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            transition: background-color 0.3s ease;
        }

        .theme-switch {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .theme-switch:hover {
            background: var(--section-bg);
        }

        .card {
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px var(--shadow-color), 0 2px 4px -1px var(--shadow-color);
            width: 100%;
            max-width: 480px;
            padding: 24px;
            margin: 20px;
            transition: all 0.3s ease;
        }

        .card-header {
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo {
            width: 48px;
            height: 48px;
            flex-shrink: 0;
        }

        .card-title {
            font-size: 1.5em;
            font-weight: 700;
            color: var(--text-primary);
            margin: 0;
        }

        .input-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-bottom: 32px;
            padding: 16px;
            background-color: var(--section-bg);
            border-radius: 8px;
        }

        .input-group {
            margin-bottom: 0;
            min-width: 0;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-secondary);
            font-size: 0.9em;
        }

        .input-group input {
            width: 100%;
            box-sizing: border-box;
            padding: 12px 16px;
            border: 1px solid var(--input-border);
            border-radius: 6px;
            font-size: 1em;
            transition: all 0.15s ease;
            background-color: var(--card-bg);
            color: var(--text-primary);
        }

        .input-group input:hover {
            border-color: var(--text-secondary);
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--input-focus);
            box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.2);
        }

        .results {
            background-color: var(--section-bg);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 24px;
        }

        .section {
            margin-top: 20px;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        .classic-plus {
            background-color: var(--classic-plus-bg);
            border-color: var(--classic-plus-border);
        }

        .classic-reward {
            background-color: var(--classic-reward-bg);
            border-color: var(--classic-reward-border);
        }

        .points-hack {
            background-color: var(--points-hack-bg);
            border-color: var(--points-hack-border);
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            font-size: 0.95em;
        }

        .result-item:not(:last-child) {
            border-bottom: 1px solid var(--border-color);
        }

        .result-label {
            color: var(--text-secondary);
            font-weight: 500;
        }

        .result-value {
            font-weight: 600;
            color: var(--text-primary);
        }

        h3 {
            margin: 0 0 16px 0;
            font-size: 1.1em;
            font-weight: 600;
            color: var(--text-primary);
        }

        .positive {
            color: var(--positive);
        }

        .negative {
            color: var(--negative);
        }
    </style>
</head>
<body>
    <button class="theme-switch" onclick="toggleTheme()">ðŸŒ“ Toggle Theme</button>
    <div class="card">
        <div class="card-header">
            <svg class="logo" viewBox="0 0 700 700">
                <path fill="#FFFFFF" d="M599,601 L350.5,601 L99,601 L99,348.5 L99,101 L347.1,101 L599,101 L599,351 L599,601"/>
                <path fill="#006FCF" d="M599,601v-79.2h-60.3l-31.1-34.3l-31.2,34.3H277.5v-160h-64.2L293,181.5h76.8l27.4,61.7v-61.7h95l16.5,46.5l16.6-46.5H599V101H99v500H599L599,601z M548.8,501.7H599l-66.4-70.4l66.4-69.6h-49.4l-41,44.8l-40.6-44.8h-50.2l66,70l-66,70h48.8l41.2-45.2L548.8,501.7L548.8,501.7z M560.6,431.4l38.4,40.9v-81.4L560.6,431.4L560.6,431.4z M336.9,469.4v-21.8h79V416h-79v-21.8h81v-32.4H298.8v139.9h119.1v-32.4H336.9L336.9,469.4z M561.2,341.5H599V201.6h-58.8l-31.4,87.2l-31.2-87.2h-59.8v139.9h37.8v-97.9l36,97.9h33.6l36-98.2V341.5L561.2,341.5z M374.9,341.5h43l-61.8-139.9H307l-61.8,139.9h42l11.6-28h64.4L374.9,341.5L374.9,341.5z M349.9,282.1h-38l19-45.8L349.9,282.1L349.9,282.1z"/>
            </svg>
            <h1 class="card-title">Amex Surcharge Calculator</h1>
        </div>
        
        <div class="input-section">
            <div class="input-group">
                <label for="amount">Amount ($)</label>
                <input id="amount" type="number" placeholder="0.00">
            </div>
            
            <div class="input-group">
                <label for="surcharge">Surcharge (%)</label>
                <input id="surcharge" type="number" step="0.01" placeholder="0.00">
            </div>
        </div>
        
        <div class="results" id="results" style="display: none;">
            <div class="result-item">
                <span class="result-label">Surcharge Amount</span>
                <span class="result-value" id="surchargeAmount">$0.00</span>
            </div>
            <div class="result-item">
                <span class="result-label">Total Charged</span>
                <span class="result-value" id="totalAmount">$0.00</span>
            </div>
            <div class="result-item">
                <span class="result-label">Points Earned</span>
                <span class="result-value" id="mrPoints">0 MR</span>
            </div>
            <div class="result-item">
                <span class="result-label">Qantas Points</span>
                <span class="result-value" id="qffPoints">0 QFF</span>
            </div>
            <div class="result-item">
                <span class="result-label">Effective Cost/Point</span>
                <span class="result-value" id="costPerPoint">0.000Â¢</span>
            </div>
        </div>

        <div class="section classic-plus">
            <h3>Classic Plus Rewards (1.0Â¢ per point)</h3>
            <div class="result-item">
                <span class="result-label">Points Value</span>
                <span class="result-value" id="pointsValueClassicPlus">$0.00</span>
            </div>
            <div class="result-item">
                <span class="result-label">Net Value</span>
                <span class="result-value" id="netValueClassicPlus">$0.00</span>
            </div>
        </div>
        
        <div class="section classic-reward">
            <h3>Classic Reward Average (4.0Â¢ per point)</h3>
            <div class="result-item">
                <span class="result-label">Points Value</span>
                <span class="result-value" id="pointsValueClassicReward">$0.00</span>
            </div>
            <div class="result-item">
                <span class="result-label">Net Value</span>
                <span class="result-value" id="netValueClassicReward">$0.00</span>
            </div>
        </div>
        
        <div class="section points-hack">
            <h3>Points Hack (1.9Â¢ per point)</h3>
            <div class="result-item">
                <span class="result-label">Points Value</span>
                <span class="result-value" id="pointsValuePointsHack">$0.00</span>
            </div>
            <div class="result-item">
                <span class="result-label">Net Value</span>
                <span class="result-value" id="netValuePointsHack">$0.00</span>
            </div>
        </div>
    </div>

    <script>
        const MR_PER_DOLLAR = 2.25;
        const MR_TO_QFF = 0.5;
        const CLASSIC_PLUS_VALUE = 1.0;
        const CLASSIC_REWARD_VALUE = 4.0;
        const POINTS_HACK_VALUE = 1.9;

        // Theme management
        function setTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
        }

        function toggleTheme() {
            const current = localStorage.getItem('theme') || 'light';
            const next = current === 'light' ? 'dark' : 'light';
            setTheme(next);
        }

        // Set initial theme
        const savedTheme = localStorage.getItem('theme') || 'light';
        setTheme(savedTheme);

        document.getElementById('amount').addEventListener('input', calculateResults);
        document.getElementById('surcharge').addEventListener('input', calculateResults);

        function calculateResults() {
            const purchaseAmount = parseFloat(document.getElementById('amount').value);
            const surchargePercent = parseFloat(document.getElementById('surcharge').value);

            if (isNaN(purchaseAmount) || isNaN(surchargePercent)) return;

            const surcharge = purchaseAmount * (surchargePercent / 100);
            const totalAmount = purchaseAmount + surcharge;
            const mrPoints = totalAmount * MR_PER_DOLLAR;
            const qffPoints = mrPoints * MR_TO_QFF;

            const pointsValueClassicPlus = (qffPoints * CLASSIC_PLUS_VALUE) / 100;
            const pointsValueClassicReward = (qffPoints * CLASSIC_REWARD_VALUE) / 100;
            const pointsValuePointsHack = (qffPoints * POINTS_HACK_VALUE) / 100;

            const netValueClassicPlus = pointsValueClassicPlus - surcharge;
            const netValueClassicReward = pointsValueClassicReward - surcharge;
            const netValuePointsHack = pointsValuePointsHack - surcharge;

            const costPerPoint = (surcharge / qffPoints) * 100;

         
            document.getElementById('results').style.display = 'block';
            document.getElementById('surchargeAmount').innerText = `$${surcharge.toFixed(2)}`;
            document.getElementById('totalAmount').innerText = `$${totalAmount.toFixed(2)}`;
            document.getElementById('mrPoints').innerText = `${Math.round(mrPoints)} MR`;
            document.getElementById('qffPoints').innerText = `${Math.round(qffPoints)} QFF`;
            document.getElementById('costPerPoint').innerText = `${costPerPoint.toFixed(3)}Â¢`;

            document.getElementById('pointsValueClassicPlus').innerText = `$${pointsValueClassicPlus.toFixed(2)}`;
            document.getElementById('netValueClassicPlus').innerText = `$${netValueClassicPlus.toFixed(2)}`;
            document.getElementById('netValueClassicPlus').className = `result-value ${netValueClassicPlus >= 0 ? 'positive' : 'negative'}`;

            document.getElementById('pointsValueClassicReward').innerText = `$${pointsValueClassicReward.toFixed(2)}`;
            document.getElementById('netValueClassicReward').innerText = `$${netValueClassicReward.toFixed(2)}`;
            document.getElementById('netValueClassicReward').className = `result-value ${netValueClassicReward >= 0 ? 'positive' : 'negative'}`;

            document.getElementById('pointsValuePointsHack').innerText = `$${pointsValuePointsHack.toFixed(2)}`;
            document.getElementById('netValuePointsHack').innerText = `$${netValuePointsHack.toFixed(2)}`;
            document.getElementById('netValuePointsHack').className = `result-value ${netValuePointsHack >= 0 ? 'positive' : 'negative'}`;
        }
    </script>
</body>
</html>